<div class="container container-fluid">
    <div class="muestra_form">
        <button class="btn btn-light" (click)="btnMostrarOcultar()" role="button">{{etiqueta}} Formulario</button>
    </div>
    <form class="formulario" [hidden]="mostrar" #form1="ngForm" (ngSubmit)="enviar()">
        <p class="h2 text-center mb-2">Sugerencias</p>

        <fieldset> 
            <legend>Datos personales</legend>
        <div class="md-form">
            <i class="fa fa-user prefix grey-text"></i>
            <label for="name">Nombre</label>
            <input type="text" id="name" name="name" class="form-control" placeholder="Indica tu nombre" required minlength="3" [(ngModel)]="oUsuario.nombre"
                #nameState="ngModel">
        </div>
        <div [hidden]="nameState.valid || nameState.untouched ">
            <div class="error-message" [hidden]="!nameState.errors?.required">
                El nombre es obligatorio</div>
            <div class="error-message" [hidden]="!nameState.errors?.minlength">
                El nombre debe tener un mínimo de 3 caracteres
            </div>
        </div>

        <div class="md-form">
            <i class="fa fa-address-card prefix grey-text"></i>
            <label for="apellidos">Apellidos</label>
            <input type="text" id="apellidos" name="apellidos" class="form-control" required minlength="3" placeholder="Indica tu apellido"
                [(ngModel)]="oUsuario.apellidos" #apellidosState="ngModel">
        </div>

        <div [hidden]="apellidosState.valid || apellidosState.untouched ">
            <div class="error-message" [hidden]="!apellidosState.errors?.required">
                El apellido es obligatorio</div>
            <div class="error-message" [hidden]="!apellidosState.errors?.minlength">
                El apellido debe tener un mínimo de 3 caracteres
            </div>
        </div>

        <div class="md-form">
            <i class="fa fa-envelope prefix grey-text"></i>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" class="form-control" required placeholder="Indica tu email" [(ngModel)]="oUsuario.email"
                #emailState="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">
        </div>

        <div [hidden]="emailState.valid || emailState.untouched ">
            <div class="error-message" [hidden]="!emailState.errors?.required">
                El email es obligatorio</div>
            <div class="error-message" [hidden] = "!emailState.errors?.pattern">
                    El email no cumple los requisitos: email@dominio.xxx
            </div>
        </div>

        <div class="md-form">
                    <label><i class="fa fa-transgender prefix grey-text"></i> Sexo</label><br>
                    <label for="m">Masculino</label>
                    <input type="radio" id="m" name="sexo" class="form-control" name="sexo" value="Masculino" [(ngModel)]="oUsuario.sexo"
                            #sexoSel="ngModel" required>
                    <label for="f">Femenino</label>
                    <input type="radio" id="f" name="sexo" class="form-control" name="sexo" value="Femenino" [(ngModel)]="oUsuario.sexo" #sexoSel="ngModel">
        </div>

        <div [hidden]="sexoSel.valid || sexoSel.untouched ">
                <div class="error-message" [hidden]="!sexoSel.errors?.required">
                    Debes seleccionar un sexo</div>
        </div>
        </fieldset>

        <fieldset> 
                <legend>Tus gustos</legend>

        <div>
            <i class="fa fa-star prefix grey-text"></i>
            <label>Preferencias</label>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input"  name="preferencias" [(ngModel)]="oUsuario.preferencias.cultura"> Cultural
                </label>
            </div>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input"  name="preferencias"  [(ngModel)]="oUsuario.preferencias.deportes"> Deportes
                </label>
            </div>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input"  name="preferencias"  [(ngModel)]="oUsuario.preferencias.aventura"> Aventura
                </label>
            </div>
        </div>

        <div class="md-form">
            <i class="fa fa-pencil prefix grey-text"></i>
            <label for="mensaje">Mensaje</label>
            <textarea type="text" id="mensaje" class="form-control md-textarea" name="sugerencia" rows="3" placeholder="Escribe una sugerencia"
            [(ngModel)]="oUsuario.sugerencia"></textarea>
        </div>
        </fieldset>

        <div class="text-center mt-4">
            <button class="btn btn-outline-primary" type="submit" [disabled]="form1.invalid">Enviar
                <i class="fa fa-paper-plane-o ml-2"></i>
            </button>
            <button type="button" class="btn btn-outline-secondary" (click)="btnBorrar()">Borrar
                <i class="fa fa-eraser ml-2"></i>
            </button>
            <div *ngIf="formenviado" class="alert alert-primary box-msg" role="alert">
                <strong>Formulario enviado</strong> Tus datos se han guardado correctamente!
        </div>
        </div>
    </form>
</div>